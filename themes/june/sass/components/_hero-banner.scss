// Animation mixins
@mixin fade-in-up($delay: 0s) {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease $delay, transform 0.8s ease $delay;

    &.animate {
        opacity: 1;
        transform: translateY(0);
    }
}

@mixin stagger-animation($base-delay: 0.2s, $stagger: 0.2s) {
    @for $i from 1 through 3 {
        &:nth-child(#{$i}) {
            @include fade-in-up($base-delay + ($i - 1) * $stagger);
        }
    }
}

// Hero banner container
.hero-banner {
    position: relative;

    // Intersection Observer trigger
    &.in-view {
        .hero-banner-caption {
            opacity: 1;
            transform: translate(-50%, -30%) translateY(0);

            h4 {
                opacity: 1;
                transform: translateY(0);
            }

            p.lead {
                opacity: 1;
                transform: translateY(0);
            }

            .hero-banner-btn {
                opacity: 1;
                transform: translateY(0);
            }
        }
    }
}

// Hero banner caption
.hero-banner-caption {
    @extend .overlay-caption;

    // Initial state
    opacity: 0;
    transform: translate(-50%, -30%) translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;

    // Animate children with staggered delays
    h4 {
        @include fade-in-up(0.2s);
    }

    p.lead {
        @include fade-in-up(0.4s);
    }

    .hero-banner-btn {
        @include fade-in-up(0.6s);
    }
}

// Button styles
.hero-banner-btn {
    @extend .overlay-btn;
}

.hero-image-container {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

:not(.fullscreen) {
  & > .hero-image-container {
    aspect-ratio: 16 / 9;
  }

  & > .hero-banner-caption {
    top: 12% !important;

    h4 {
      font-weight: 500 !important;
      font-size: 2rem !important;
    }
  }
}

.fullscreen {
  & > .hero-image-container {
    width: 100vw;
    height: 100vh;
  }
}
