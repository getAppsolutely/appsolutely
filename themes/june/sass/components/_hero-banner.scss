// Import animation mixins
@import "mixins";

// Hero banner container
.hero-banner {
    position: relative;

    // Intersection Observer trigger
    &.in-view {
        .hero-banner-caption {
            opacity: 1;
            transform: translate(-50%, -30%) translateY(0);

            h4 {
                opacity: 1;
                transform: translateY(0);
            }

            p.lead {
                opacity: 1;
                transform: translateY(0);
            }

            .hero-banner-btn {
                opacity: 1;
                transform: translateY(0);
            }
        }
    }
}

// Hero banner caption
.hero-banner-caption {
    @extend %overlay-caption;

    top: 15% !important;

    // Initial state
    opacity: 0;
    transform: translate(-50%, -30%) translateY(30px);
    transition:
        opacity 0.8s ease,
        transform 0.8s ease;

    // Animate children with staggered delays
    img {
        max-width: 20vw;
        max-height: 40px;

        &[src$=".webp"] {
            width: 10vw;
        }

        @include media-breakpoint-down(xxl) {
            max-width: 50vw !important;
        }
    }

    h4 {
        @include fade-in-up(0.2s);
    }

    p.lead.mb-4 {
        @include fade-in-up(0.4s);

        font-size: 2vw;
        font-weight: 500;

        @include media-breakpoint-down(xxl) {
            font-size: 1.25rem;
        }
    }

    .hero-banner-btn {
        @include fade-in-up(0.6s);
    }
}

// Button styles
.hero-banner-btn {
    @extend %overlay-btn;
}

.hero-image-container {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

:not(.fullscreen) {
    & > .hero-image-container {
        aspect-ratio: 16 / 9;
    }

    & > .hero-banner-caption {
        top: 12% !important;

        h4 {
            font-weight: 500 !important;
            font-size: 2rem !important;
        }
    }
}

.fullscreen {
    & > .hero-image-container {
        width: 100%;
        height: 100vh;
        @include media-breakpoint-down(xl) {
            height: 100vh;
        }
    }
}

// Responsive: Reorder caption and image on smaller screens
@include media-breakpoint-down(xxl) {
    .hero-banner.default {
        display: flex;
        flex-direction: column;

        // Put caption first
        .hero-banner-caption {
            position: static !important;
            transform: none !important;
            order: 1;
            padding: 2rem 0;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);

            &.in-view {
                transform: none !important;
            }
        }

        // Put image second
        img,
        .hero-image-container,
        .hero-video-container {
            order: 2;
        }

        // Overlay stays with image
        .hero-overlay {
            order: 2;
        }
    }
}
